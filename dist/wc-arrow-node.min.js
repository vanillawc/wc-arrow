export class Customarrow extends HTMLElement{constructor(){super();this.t=.5;this.s=.5;this.i=0;this.h=0;this.o=0;this.u=false;this.p=1;this.g=this.s}static get observedAttributes(){return["l","w","tail-l","tail-w","peak-l","rot","tail-cont","peak-coll","unclosed","scale"]}disconnectedCallback(){this.removeChild(this.querySelector("svg"));this.F.disconnect()}attributeChangedCallback(t,s,i){if(t==="w"){this.m=parseFloat(i)}else if(t==="l"){this.v=parseFloat(i)}else if(t==="tail-w"){this.t=parseFloat(i)/100}else if(t==="tail-l"){this.s=parseFloat(i)/100;this.g=this.s}else if(t==="rot"){let t=parseFloat(i);if(!isNaN(t)){this.i=t<0?t+360:t}else{this.i=0}}else if(t==="tail-cont"){this.h=parseFloat(i)/100}else if(t==="peak-coll"){this.o=parseFloat(i)/100}else if(t==="unclosed"){if(i==="false"){this.u=false}else{this.u=true}}else if(t==="peak-l"){this.L=parseFloat(i)}else if(t==="scale"){this.p=parseFloat(i)}if(!isNaN(this.L)){this.s=1-this.L/this.v}else{this.s=this.g}if(!this.k){return}this.removeChild(this.querySelector("svg"));this.C()}C(){this.appendChild(this.M());this.k=this.querySelector("#arrow");this.N()}connectedCallback(){this.C();const t={attributes:true,childList:false,subtree:false};const s=function(t,s,i){for(let s of t){if(s.type==="attributes"){if(i.strokeWidth!==parseFloat(window.getComputedStyle(i).strokeWidth)){i.removeChild(i.querySelector("svg"));i.C()}}}};this.F=new MutationObserver((t,i)=>s(t,i,this));this.F.observe(this,t)}N(){this.k.style.transform="rotate("+this.i+"deg)";this.k.style.position="absolute";let t=window.getComputedStyle(this).display;if(t!=="flex"&&t!=="inline-flex"){this.style.display="flex"}this.style.justifyContent="center";this.style.alignItems="center"}M(){this._=parseFloat(window.getComputedStyle(this).strokeWidth);let t=this._*.5;let s=1-t/(this.m/2);let i=1-this._*this.s/this.v;let e=t+this.m/2*(1-this.t)*s;let l=this.m-this.m/2*(1-this.t)*s-t;let h=l-e;let a=e+.5*h*this.h;let r=l-.5*h*this.h;let o=this.v*i-this.v*(1-this.s);let n=Math.PI/2-Math.atan2(this.t*this._+this.m/2,this.v-o+this.t*this._);let c=Math.tan(n)*a;let f=t;let u=e;let w=o+t+this.o*(c-this._);let d=a;let p=o+t;let b=t;let g=this.v-t;let F=this.m/2;let m=o+t;let v=this.m-t;let L=o+t+this.o*(c-this._);let k=r;let x=t;let C=l;let M="http://www.w3.org/2000/svg";let N=document.createElementNS(M,"svg");N.setAttributeNS(null,"id","arrow");N.setAttributeNS(null,"width",this.v*this.p);N.setAttributeNS(null,"height",this.m*this.p);N.setAttributeNS(null,"viewBox",`0 0 ${this.v} ${this.m}`);let _=document.createElementNS(M,"path");let A="M"+f+" "+u+" L"+w+" "+d+" L"+p+" "+b+" L"+g+" "+F+" L"+m+" "+v+" L"+L+" "+k+" L"+x+" "+C+(this.u?"":" Z");_.setAttributeNS(null,"d",A);N.appendChild(_);return N}}customElements.define("wc-arrow",Customarrow);
